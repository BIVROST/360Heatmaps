<Page
    x:Class="BivrostHeatmapViewer.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:BivrostHeatmapViewer"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

	<Grid Background="{ThemeResource SidePanelAcrylicBrush}" x:Name="mainGridControl">
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="350" />
			<ColumnDefinition Width="*" />
		</Grid.ColumnDefinitions>
		<!--
		<Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" x:Name="GlassHost">
			<TextBlock Text="abrakadabra 123666!!!~~~ioneoneone" FontSize="96" VerticalAlignment="Center" HorizontalAlignment="Center" TextWrapping="Wrap"/>
			<Image x:Name="HeatImage" Source="heatmap.png" Stretch="Fill" Opacity="0.5"/>
		</Grid>
		-->
		<Grid Padding="12,12,0,12">
			<Grid.RowDefinitions>
				<RowDefinition Height="auto" />
				<RowDefinition Height="*" />
				<RowDefinition Height="Auto" />
			</Grid.RowDefinitions>

			<StackPanel Grid.Row="0" VerticalAlignment="Top">

				<TextBlock Margin="4">Selected video</TextBlock>
				<StackPanel Orientation="Horizontal" AllowDrop="True" DragOver="SelectedVideo_DragOver" Drop="SelectedVideo_Drop">
					<Button x:Name="pickFolderButton" Width="40" Height="40" Margin="8" Style="{ThemeResource ButtonRevealStyle}">
						<SymbolIcon Symbol="Add" />
					</Button>
					<TextBlock FontSize="24" VerticalAlignment="Center" x:Name="selectedVideoFileTextBlock">(...)</TextBlock>
				</StackPanel>

				<TextBlock Margin="4" VerticalAlignment="Center">Sessions List</TextBlock>

				<StackPanel Orientation="Horizontal" Background="{ThemeResource ButtonBackgroundThemeBrush}">

					<Button Style="{ThemeResource ButtonRevealStyle}" x:Name="addHeatmaps" Click="addHeatmaps_Click">
						<SymbolIcon Symbol="Add"/>
					</Button>

					<Button Style="{ThemeResource ButtonRevealStyle}" x:Name="selectionModeHeatmaps" Click="selectionModeHeatmaps_Click">
						<SymbolIcon Symbol="List"/>
					</Button>
					
					<Button Style="{ThemeResource ButtonRevealStyle}" x:Name="selectAllHeatmaps" Click="selectAllHeatmaps_Click" Visibility="Collapsed">
						<SymbolIcon Symbol="SelectAll"/>
					</Button>
					<Button Style="{ThemeResource ButtonRevealStyle}" x:Name="deselectAllHeatmaps" Click="deselectAllHeatmaps_Click" Visibility="Collapsed">
						<SymbolIcon Symbol="ClearSelection"/>
					</Button>
					
					<Button Style="{ThemeResource ButtonRevealStyle}" x:Name="deleteSelectedHeatmaps" Click="deleteSelectedHeatmaps_Click">
						<SymbolIcon Symbol="Delete"/>
					</Button>
				</StackPanel>
			</StackPanel>

			<ListView SelectionMode="Single" x:Name="heatmapSessionsListView" ScrollViewer.VerticalScrollMode="Enabled" Grid.Row="1" 
					  AllowDrop="True" Drop="heatmapSessionsListView_Drop" DragOver="heatmapSessionsListView_DragOver"
					  >
				<ListViewItem>
					<StackPanel Orientation="Vertical">
						<TextBlock FontSize="20">Asdasdasd asd asd</TextBlock>
						<TextBlock FontSize="12">Asdasdasd asd asd</TextBlock>
					</StackPanel>
				</ListViewItem>
				<ListViewItem>abcd 1</ListViewItem>
				<ListViewItem>abcd 2</ListViewItem>
				<ListViewItem>abcd 3</ListViewItem>
				<ListViewItem>abcd 4</ListViewItem>
				<ListViewItem>abcd 5</ListViewItem>
				<ListViewItem>abcd 6</ListViewItem>
				<ListViewItem>abcd 7</ListViewItem>
				<ListViewItem>abcd 8</ListViewItem>
				<ListViewItem>abcd 9</ListViewItem>
			</ListView>

			<Grid x:Name="heatmapListLoadingScreenGrid" Grid.Row="1" Visibility="Collapsed">
				<ProgressRing x:Name="heatmapListLoadingIndicator"  IsActive="False" Width="64" Height="64"/>
			</Grid>


			<Button HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="12" Width="200" Height="40" Style="{ThemeResource ButtonRevealStyle}" Grid.Row="2">Generate video</Button>

			<Rectangle Grid.RowSpan="3" Width="20" HorizontalAlignment="Right" IsHitTestVisible="False" Margin="0,-12,0,-12" Opacity="0.2">
				<Rectangle.Fill>
					<LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
						<GradientStop Color="Transparent" Offset="0"/>
						<GradientStop Color="Black" Offset="1"/>
					</LinearGradientBrush>
				</Rectangle.Fill>
			</Rectangle>
		</Grid>



		<Grid Grid.Column="2" Background="{ThemeResource MainPanelAcrylicBrush}" >
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="*" />
				<RowDefinition Height="Auto" />
			</Grid.RowDefinitions>

			<TextBlock Margin="16" Grid.Row="0">Preview</TextBlock>


			<Viewbox Stretch="Uniform" x:Name="previewViewBox" Grid.Row="1" Margin="64,32">
				<Grid Padding="0" Margin="0">
					<Canvas x:Name="mainPanel" Margin="-16"
							Width="{Binding ElementName=mediaPlayer, Path=ActualWidth}"
							Height="{Binding ElementName=mediaPlayer, Path=ActualHeight}"
							/>
					<Rectangle Fill="White" x:Name="previewImage" 
							   Width="{Binding ElementName=mediaPlayer, Path=ActualWidth}"
							   Height="{Binding ElementName=mediaPlayer, Path=ActualHeight}"
							   />
					<MediaPlayerElement x:Name="mediaPlayer" MinWidth="1280" Height="720">
					</MediaPlayerElement>

					<Image x:Name="heatImage" Stretch="Fill" Opacity="0.5">

					</Image>

				</Grid>
			</Viewbox>

			<Rectangle Grid.Row="1" AllowDrop="True" Drop="SelectedVideo_Drop" DragOver="SelectedVideo_DragOver" IsHitTestVisible="True" Fill="Transparent" Opacity="0.3"/>


			<StackPanel Grid.Column="1" Padding="32" Grid.Row="2">

				<TextBlock x:Name="fpsLabel"></TextBlock>
				<Button x:Name="playButton" HorizontalAlignment="Center" VerticalAlignment="Bottom" Click="playButton_Click" Width="200" Height="40">
					<SymbolIcon Symbol="Play" />
				</Button>

				<StackPanel Width="300">
					<TextBlock>heatmap opacity</TextBlock>
					<Slider Minimum="0" Maximum="100" Value="50" TickPlacement="Inline" TickFrequency="5"/>
					<TextBlock>video opacity</TextBlock>
					<Slider Minimum="0" Maximum="100" Value="100" TickPlacement="Inline" TickFrequency="5"/>
					<Button Style="{ThemeResource ButtonRevealStyle}" x:Name="previewButton" Width="200" Height="40" HorizontalAlignment="Center">Preview</Button>
				</StackPanel>
			</StackPanel>



		</Grid>


		
		
	</Grid>
	
	
</Page>
 